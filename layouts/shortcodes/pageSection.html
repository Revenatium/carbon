{{ $base := .Get "imgBase" }}
{{ $path := .Get "imgPath" }}
{{ $btnClass := .Get "btnClass" }}
{{ $imgPosition := .Get "imgPosition" }}
{{ $alt := .Get "title" }}
{{ with .Get "alt" }}
   {{ $alt = . }}
{{ end }}
{{ $imageContainerClass := "col-md-6 col-lg-8" }}
{{ if .Get "imageContainerClass" }}
    {{ $imageContainerClass = .Get "imageContainerClass" }}
{{ end }}
{{ $contentContainerClass := "col-md-6 col-lg-4" }}
{{ if .Get "contentContainerClass" }}
    {{ $contentContainerClass = .Get "contentContainerClass" }}
{{ end }}
<div class="page-section-container">
    <div class="row page-section" style="background-color:{{ .Get `bgColor` }}">
        <div class="page-section-img-container {{ $imageContainerClass }} {{ cond (eq $imgPosition `right`) `order-first order-md-last` `` }}" >
         <img src="{{print $base `f_auto,w_800,h_600,c_fill` $path }}" {{with $alt }}alt="{{.}}"{{end}} class="page-section-img-component" loading="lazy" />
        </div>
        <div class="{{ $contentContainerClass }} page-section-content">
            <div class="p-5">
                <h3>{{.Get "title"}}</h3>
                <div class="page-section-text">
                    {{ .Inner }}
                    {{ if and (.Get "btnText") (.Get "btnUrl") }}
                    <div class="mt-3">
                        <a href="{{ .Get `btnUrl` }}" class="btn {{ cond (ne $btnClass ``) $btnClass `btn-outline-primary` }}">{{ .Get "btnText" }}</a>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</div>